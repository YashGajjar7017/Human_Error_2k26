<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Node Compiler</title>
    <link rel="icon" type="image/x-icon" href="../Public/images/Human Error.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css'>
    <link rel="stylesheet" href="../Public/css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3>Dashboard</h3>
            </div>
            <ul class="sidebar-menu">
                <li class="menu-item active" data-page="overview">
                    <i class='bx bx-home'></i>
                    <span>Overview</span>
                </li>
                <li class="menu-item" data-page="analytics">
                    <i class='bx bx-bar-chart'></i>
                    <span>Analytics</span>
                </li>
                <li class="menu-item" data-page="achievements">
                    <i class='bx bx-trophy'></i>
                    <span>Achievements</span>
                </li>
                <li class="menu-item" data-page="collaboration">
                    <i class='bx bx-group'></i>
                    <span>Collaboration</span>
                </li>
                <li class="menu-item" data-page="api-docs">
                    <i class='bx bx-book'></i>
                    <span>API Docs</span>
                </li>
                <li class="menu-item">
                    <a href="/" class="text-decoration-none text-white">
                        <i class='bx bx-code-alt'></i>
                        <span>Back to Compiler</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-left">
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <i class='bx bx-menu'></i>
                    </button>
                    <h1 id="pageTitle">Dashboard Overview</h1>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <img src="images/User_icon.png" alt="User" class="user-avatar">
                        <span id="username">Loading...</span>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <!-- Overview Page -->
                <div id="overviewPage" class="page active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class='bx bx-code-alt'></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalCompilations">0</h3>
                                <p>Total Compilations</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class='bx bx-trophy'></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalAchievements">0</h3>
                                <p>Achievements Unlocked</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class='bx bx-group'></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="activeSessions">0</h3>
                                <p>Active Sessions</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class='bx bx-time-five'></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="codingStreak">0</h3>
                                <p>Day Streak</p>
                            </div>
                        </div>
                    </div>

                    <div class="recent-activity">
                        <h2>Recent Activity</h2>
                        <div class="activity-list" id="recentActivity">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class='bx bx-code-alt'></i>
                                </div>
                                <div class="activity-content">
                                    <p>Welcome to your dashboard! Start coding to see your activity here.</p>
                                    <small>Just now</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Page -->
                <div id="analyticsPage" class="page">
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h3>Compilation Statistics</h3>
                            <canvas id="compilationChart"></canvas>
                        </div>
                        <div class="analytics-card">
                            <h3>Language Usage</h3>
                            <canvas id="languageChart"></canvas>
                        </div>
                        <div class="analytics-card">
                            <h3>Success Rate</h3>
                            <div class="success-rate">
                                <div class="rate-circle">
                                    <span id="successRate">85%</span>
                                </div>
                                <p>Compilation Success Rate</p>
                            </div>
                        </div>
                        <div class="analytics-card">
                            <h3>Recent Sessions</h3>
                            <div class="session-list" id="recentSessions">
                                <p>Loading sessions...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Achievements Page -->
                <div id="achievementsPage" class="page">
                    <div class="achievements-header">
                        <h2>Your Achievements</h2>
                        <div class="achievement-stats">
                            <span id="achievementCount">0 / 10</span> Unlocked
                        </div>
                    </div>

                    <div class="achievements-grid" id="achievementsGrid">
                        <!-- Achievements will be loaded here -->
                    </div>

                    <div class="leaderboard-section">
                        <h3>Leaderboard</h3>
                        <div class="leaderboard" id="leaderboard">
                            <!-- Leaderboard will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Collaboration Page -->
                <div id="collaborationPage" class="page">
                    <div class="collaboration-header">
                        <h2>Code Collaboration</h2>
                        <button class="btn btn-primary" id="createSessionBtn">
                            <i class='bx bx-plus'></i> Create Session
                        </button>
                    </div>

                    <div class="collaboration-content">
                        <div class="sessions-section">
                            <h3>Your Sessions</h3>
                            <div class="sessions-list" id="sessionsList">
                                <!-- Sessions will be loaded here -->
                            </div>
                        </div>

                        <div class="comments-section">
                            <h3>Recent Comments</h3>
                            <div class="comments-list" id="commentsList">
                                <!-- Comments will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Docs Page -->
                <div id="apiDocsPage" class="page">
                    <div class="api-docs-header">
                        <h2>API Documentation</h2>
                        <div class="api-stats">
                            <span id="apiEndpointCount">0</span> Endpoints
                        </div>
                    </div>

                    <div class="api-docs-content">
                        <div class="api-categories" id="apiCategories">
                            <!-- Categories will be loaded here -->
                        </div>

                        <div class="api-endpoints" id="apiEndpoints">
                            <!-- Endpoints will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Create Session Modal -->
    <div class="modal fade" id="createSessionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create Collaboration Session</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createSessionForm">
                        <div class="mb-3">
                            <label for="sessionTitle" class="form-label">Session Title</label>
                            <input type="text" class="form-control" id="sessionTitle" required>
                        </div>
                        <div class="mb-3">
                            <label for="sessionDescription" class="form-label">Description</label>
                            <textarea class="form-control" id="sessionDescription" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="projectId" class="form-label">Project ID</label>
                            <input type="text" class="form-control" id="projectId" required>
                        </div>
                        <div class="mb-3">
                            <label for="language" class="form-label">Programming Language</label>
                            <select class="form-control" id="language">
                                <option value="javascript">JavaScript</option>
                                <option value="python">Python</option>
                                <option value="java">Java</option>
                                <option value="cpp">C++</option>
                                <option value="c">C</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="initialCode" class="form-label">Initial Code</label>
                            <textarea class="form-control" id="initialCode" rows="5" placeholder="Optional initial code"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="submitSessionBtn">Create Session</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
